##### 요약

정규화는 테이블을 쪼개는 과정을 말한다.

중복을 줄이기 위함이지만 검색속도가 느려지고 조인비용이 증가한다.

역정규화(반정규화)는 검색 선응은 올라가지만 테이블 수가 줄어든다.

적정수준을 찾는것이 중요하다. (trade off)

---

### 정규화 개요


정규화는 중복을 찾아 제거해 나가는 과정을 말한다.

관계형 데이터베이스 모델의 기본 정신은 동일한 정보는 한 곳에서만 관리하는 것이다.

동일한 정보가 여러 곳에 중복하여 존재하면 중복된 정보들 사이의 불일치등 많은 문제가 발생하게 된다.

정규화를 이론적으로 설명하면 매우 복잡한 이야기가 되지만 모델링에 익숙하게 되면 정규화 과정을 거치지 않는다.


* 이상(anomaly) 현상
  불필요한 데이터 중복으로 인해 릴레이션에 대한 데이터 삽입, 수정, 삭제 연산을 수행할 때 발생할 수 있는 부작용


### 정규화 과정

한 회사에는 여러 판매부서가 있을 수 있고 각 판매부서의 판매 사원들은 고객에게 제품을 판매할 때마다 판매 전표를 기록한다.

##### 제1정규화
하나의 속성이 단일 값(atomic value)을 갖도록 하는 것을 말한다.

각 속성은 단일 값을 저장하고 있기 때문에 아무 문제가 없는 것처럼 보이지만 취미1, 취미2, 취미3과 같이 동일한 성격의 데이터를 서로 다른 속성에 저장하는 것도 문제를 발생시킨다.

##### 제2정규화
주식별자가 아닌 속성 중에서 주식별자 전체가 아닌 일부 속성에 종속된 속성을 찾아 제거하는 과정이다.

##### 제3정규화
주식별자가 아닌 속성들 중에서 종속 관계에 있는 속성을 찾아 제거하는 과정이다.


#### 이상 현상의 종류

* 삽입 이상
  새 데이터를 삽입하기 위해 불필요한 데이터도 함께 삽입해야 하는 문제

* 갱신 이상
  중복 투플 중 일부만 변경하여 데이터가 불일치하게 되는 모순의 문제

* 삭제 이상
  투플을 삭제하면 꼭 필요한 데이터까지 함께 삭제되는 데이터 손실의 문제

### 정규화에서 엔티티의 분리

ERD에서 각 엔티티에 포함된 중복을 제거해 나가는 과정이다.
'중복의 제거' 방법은 엔티티를 여러 개로 분리하는 것이다.

### 정규화가 필요 없는 설계 기법

정규화를 잘 이해하고 있는 설계자는 정규화를 할 필요가 없도록 모델링을 한다.

##### 제1정규화 원칙1

장부나 전표에서 머리부와 서술부는 별도의 엔티티로 저장한다.

##### 제2정규화, 제3정규화 원칙2

코드-코드값의 관계에 있는 속성들은 별도의 엔티티로 구성한다.




