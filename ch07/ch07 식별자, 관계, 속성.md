> check : 언제 일대일이 나오는지 공부하기

### 주식별자의 정의

주식별자(primary identifier)는 엔티티에 소속된 인스턴스들을 구별하는 기준 역할을 하는 속성을 말한다.

현재 시점에서뿐만 아니라 미래에도 중복된 값이 없어야 한다는 뜻이다.

주식별자는 길이가 짧고, 단순하며, 나중에 자료를 검색할 때 기준이 되는 것이 좋다.

##### 주식별자의 여러 형태

###### 복합 속성으로 이루어진 주식별자

해당 엔티티가 어떤 정보를 관리하기 위한 것인지를 살펴보면 주식별자를 쉽게 찾을 수 있다.
일반적으로 엔티티 이름에 '일별', '기간별'과 같은 내용이 포함되면 복합속성을 주식별자로 갖는 경우가 많고, 날짜 속성이 주식별자의 일부가 된다.

###### 마땅한 주식별자가 없는 경우

적당한 주식별자가 없는 경우에는 모든 속성을 합친 복합 속성이 주식별자가 될 수 있다.(인위적인)

###### 인위적 주식별자의 문제점
중복데이터의 삽입이 가능해진다. 같은 데이터를 넣어도 확인할 방법이 없다.

인위적인 주식별자의 생성은 관리를 간단하게 하는 장점도 있지만 원하지 않게 중복 정보가 저장될 수 있으므로 사용에 신중해야 한다. 또한 인위적 주식별자를 사용하는 경우는 데이터의 중복을 관리할 수 있는 대안을 미리 마련하여야 한다.

###### 불필요한 속성이 주식별자에 포함되는 경우의 문제점
의미적 중복이 발생할 가능성이 있으므로 최소한의 속성으로 주식별자를 구성해야 한다.

유일성만 만족하고 최소성을 만족하지 않은 경우 -> 제품번호를 실수해도 그냥 들어간다.


### 관계/ 외래식별자의 정의

#### 관계의 정의 방법

문서로부터 동사를 구분한다.

관계 매트릭스를 그려본다.

부모, 자식 관계에 있는 엔티티들을 찾아본다.

관계가 정의면 카디널리티와 관계의 참여도를 표시한다.

#### 외래식별자의 정의

관계가 있는 두 엔티티를 부모, 자식으로 구분한다.

부모 엔티티의 주시별자에 해당하는 속성이 자식 엔티티에도 존재하는지 확인한다.

#### 관계/외래식별자에 대한 규칙

두 엔티티가 관련이 있다는 의미는 두 엔티티가 공유하는 속성이 있다는 뜻이다.

공통 속성의 값이 먼저 생성되는 쪽이 부모 엔티티가 되고, 가져다 쓰는 쪽이 자식 엔티티가 된다.

부모 엔티티에 있는 공통 속성은 주식별자가 되고, 자식 엔티티의 공통 속성은 외래 식별자가 된다.

부모 엔티티와 자식 엔티티의 카디널리티는 1:N이다. (어떤 두 엔티티가 관계가 있고 카디널리티가 1:N이라면 카디널리티가 1인 쪽이 부모엔티티이고 N인 쪽이 자식 엔티티이다.)

### 업무 규칙의 정의

#### 업무 규칙이란

참조 무결성 제약조건을 유지하기 위한 규칙을 말한다.
기본키를 참조하는 외래키 값은 기본키의 값이거나 null 값이어야 한다.

관계가 맺어져 있으면 무조건 업무 규칙이다.

자식이 있는 부모를 수정, 삭제할때는 자식이 있을때 못바꾸고(연쇄) 다른 값은 전부 null 이 된다면 (null 처리 허용)

### 속성의 정의

현실세계에서 정보를 관리할 필요가 있는 개체를 엔티티로 표현한다. 엔티티 내에서 관리해야 할 정보의 항목들이 속성이다.

속성의 정의 과정은 엔티티나 엔티티 간의 관계를 찾는 과정과는 다소 차이가 있다.

#### 속성의 종류

##### 기본 속성(basic attribute)

현실 세계에 존재하는 정보를 반영한다.

##### 설계 속성(designed attribute)

실제 업무의 분석 내용에는 있지 않았지만 정보를 효과적으로 관리하기 위해 설계의 차원에서 새로 만든 속성을 말한다.

대표적으로 코드 속성이다.

#### 유도 속성(derived attribute)

다른 속성들로부터 유도될 수 있는 속성을 말한다.

계산을 통해 자동으로 변한다.

DB안에서 PL/SQL 등의 언어에서 trigger(트리거), stored , procedure(프로시저) 등으로 생년월일, 현재년도 등을 통해 나이가 자동으로 바뀔수 있게 코딩을 하기도 한다.


